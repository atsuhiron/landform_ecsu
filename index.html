<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <!-- three.jsを読み込む -->
    <!--<script src="js/three.js"></script>-->
    <!--<script src="js/OrbitControls.js"></script>-->
    <script src="https://unpkg.com/three@0.131.3/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.131.3/examples/js/controls/OrbitControls.js"></script>
    <script src="js/array_functions.js"></script>
</head>

<body>
    <canvas id="myCanvas"></canvas>
    <script>
        window.addEventListener("DOMContentLoaded", init);
        const width = 960;
        const height = 540;
        // カメラを作成
        const camera = new THREE.PerspectiveCamera(
            45,
            width / height,
            1,
            10000
        );

        function init() {
            // レンダラーを作成
            const renderer = new THREE.WebGLRenderer({
                canvas: document.querySelector("#myCanvas")
            });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(width, height);

            // シーンを作成
            const scene = new THREE.Scene();

            camera.position.set(0, 0, +1000);
            const controls = new THREE.OrbitControls(camera, renderer.domElement);

            // 箱を作成
            const geometry = new THREE.BoxGeometry(500, 500, 500);
            const material = new THREE.MeshStandardMaterial({
                color: 0x0000ff
            });
            const box = new THREE.Mesh(geometry, material);
            scene.add(box);

            // 平行光源
            const light = new THREE.DirectionalLight(0xffffff);
            light.intensity = 2; // 光の強さを倍に
            light.position.set(1, 1, 1);
            // シーンに追加
            scene.add(light);

            // 初回実行
            tick();

            function tick() {
                controls.update();
                requestAnimationFrame(tick);

                // 箱を回転させる
                box.rotation.x += 0.001;
                box.rotation.y += 0.001;

                // レンダリング
                renderer.render(scene, camera);
            }

            
        }

        function controlsReset() {
            camera.position.set(0, 0, +1000);
        }

    </script>
    <button type="button" onClick="controlsReset()">Reset Camera Position</button>
    <button type="button" onClick="">Upheaval</button>
</body>

</html>